<p>If you are looking for a method to do some fairly complex logic on a collection in Ruby, the first place you should look is the Enumerable module. As you might recall, modules allow methods and constants to be included in a class as part of a mixin. This allows you to share code without relying on inheritance which is limited to one class in Ruby. Oftentimes modules then tend to <a href="/2015/01/11/when-to-use-modules-in-ruby/">play the role of container</a> for common logic between somewhat unrelated classes.</p>

<p>Any class that implements an #each method can use Enumerable although the classes you are probably most familiar with that use it are Array and Hash. In fact, if you are particularly new at Ruby you may be using Enumerable methods already (Map for instance) on an instance of Array or Hash and not even realize that the method is available via the Enumerable mixin.</p>

<p>To see all of the Enumerable methods:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Enumerable</span><span class="p">.</span><span class="nf">instance_methods</span>
<span class="o">=&gt;</span> <span class="p">[</span><span class="ss">:to_a</span><span class="p">,</span> <span class="ss">:entries</span><span class="p">,</span> <span class="ss">:to_h</span><span class="p">,</span> <span class="ss">:sort</span><span class="p">,</span> <span class="ss">:sort_by</span><span class="p">,</span> <span class="ss">:grep</span><span class="p">,</span> <span class="ss">:count</span><span class="p">,</span> <span class="ss">:find</span><span class="p">,</span> <span class="ss">:detect</span><span class="p">,</span> <span class="ss">:find_index</span><span class="p">,</span> <span class="ss">:find_all</span><span class="p">,</span> <span class="ss">:select</span><span class="p">,</span> <span class="ss">:reject</span><span class="p">,</span> <span class="ss">:collect</span><span class="p">,</span> <span class="ss">:map</span><span class="p">,</span> <span class="ss">:flat_map</span><span class="p">,</span> <span class="ss">:collect_concat</span><span class="p">,</span> <span class="ss">:inject</span><span class="p">,</span> <span class="ss">:reduce</span><span class="p">,</span> <span class="ss">:partition</span><span class="p">,</span> <span class="ss">:group_by</span><span class="p">,</span> <span class="ss">:first</span><span class="p">,</span> <span class="ss">:all?</span><span class="p">,</span> <span class="ss">:any?</span><span class="p">,</span> <span class="ss">:one?</span><span class="p">,</span> <span class="ss">:none?</span><span class="p">,</span> <span class="ss">:min</span><span class="p">,</span> <span class="ss">:max</span><span class="p">,</span> <span class="ss">:minmax</span><span class="p">,</span> <span class="ss">:min_by</span><span class="p">,</span> <span class="ss">:max_by</span><span class="p">,</span> <span class="ss">:minmax_by</span><span class="p">,</span> <span class="ss">:member?</span><span class="p">,</span> <span class="ss">:include?</span><span class="p">,</span> <span class="ss">:each_with_index</span><span class="p">,</span> <span class="ss">:reverse_each</span><span class="p">,</span> <span class="ss">:each_entry</span><span class="p">,</span> <span class="ss">:each_slice</span><span class="p">,</span> <span class="ss">:each_cons</span><span class="p">,</span> <span class="ss">:each_with_object</span><span class="p">,</span> <span class="ss">:zip</span><span class="p">,</span> <span class="ss">:take</span><span class="p">,</span> <span class="ss">:take_while</span><span class="p">,</span> <span class="ss">:drop</span><span class="p">,</span> <span class="ss">:drop_while</span><span class="p">,</span> <span class="ss">:cycle</span><span class="p">,</span> <span class="ss">:chunk</span><span class="p">,</span> <span class="ss">:slice_before</span><span class="p">,</span> <span class="ss">:lazy</span><span class="p">]</span></code></pre></figure>

<p>Enumerable provides a ton of useful methods (all of which are explained fully <a href="http://ruby-doc.org/core-2.2.2/Enumerable.html#method-i-map">here</a>) but some of the main ones you will see are below:</p>

<h1 id="sort">Sort</h1>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">].</span><span class="nf">sort</span>
<span class="o">=&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">].</span><span class="nf">sort</span> <span class="p">{</span> <span class="o">|</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">|</span> <span class="n">b</span> <span class="o">&lt;=&gt;</span> <span class="n">a</span> <span class="p">}</span>
<span class="o">=&gt;</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span></code></pre></figure>

<p>As you can see, Sort will iterate through each item and either use a given &lt;=&gt; (spaceship) operator or standard means of determining less than, equal to, or greater than. A sorted array will be returned.</p>

<h1 id="select">Select</h1>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">].</span><span class="nf">select</span> <span class="p">{</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="n">i</span><span class="p">.</span><span class="nf">even?</span> <span class="p">}</span>
<span class="o">=&gt;</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span></code></pre></figure>

<p>Similar to sort, select takes a collection and a block. It item that returns true from the block will be returned as part of an array.</p>

<h1 id="all-and-any">All? and Any?</h1>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">].</span><span class="nf">all?</span> <span class="p">{</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="n">i</span><span class="p">.</span><span class="nf">odd?</span> <span class="p">}</span>
<span class="o">=&gt;</span> <span class="kp">false</span>

<span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">].</span><span class="nf">any?</span> <span class="p">{</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="n">i</span><span class="p">.</span><span class="nf">odd?</span> <span class="p">}</span>
<span class="o">=&gt;</span> <span class="kp">true</span></code></pre></figure>

<p>Pretty self-explanatory, right?</p>

<p>There are many more useful methods but this will give you a good sense of what you can do with Enumerable methods. One in particular worth checking out is the #inject method of which you can find a <a href="/2015/03/23/the-inject-method-in-ruby/">whole blog post here</a>.</p>

