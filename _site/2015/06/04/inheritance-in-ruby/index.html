<!DOCTYPE html>
<html lang="en">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
  
  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Inheritance in Ruby &middot; SimpleObjects
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="http://vpfaulkner.github.io/public/css/poole.css">
  <link rel="stylesheet" href="http://vpfaulkner.github.io/public/css/syntax.css">
  <link href='http://fonts.googleapis.com/css?family=Lora' rel='stylesheet'
  type='text/css'>

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://vpfaulkner.github.io/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="http://vpfaulkner.github.io/public/favicon.ico">
  <link rel="stylesheet" href="/public/font-awesome-4.3.0/css/font-awesome.min.css">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="SimpleObjects" href="http://vpfaulkner.github.io/atom.xml">
</head>


  <body>


    <div class="container content">
      <header class="masthead">
        <h3 class="masthead-title">
          <a href="http://vpfaulkner.github.io/" title="Home">SimpleObjects</a>

          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/about_me">About Me</a></small>
          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/playbook">Playbook</a></small>
          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/archive">Archive</a></small>
          

        </h3>
      </header>

      <main>
        <article class="post">
  <h1 class="post-title">Inheritance in Ruby</h1>
  <time datetime="2015-06-04T00:00:00-04:00" class="page-date">04 Jun 2015</time>

  <p>Inheritance is a little different in Ruby if you’ve come from other languages. Unlike other languages, you can only inherit from one (and only one) class in Ruby which has resulted in the technique being used comparatively less but also caused the result to be a little cleaner when it is used. To begin, we can include some simple examples of what inheritance actually is:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">Parent</span>

  <span class="k">def</span> <span class="nf">shared_method</span>
    <span class="s2">&quot;I am shared&quot;</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Child</span> <span class="o">&lt;</span> <span class="no">Parent</span>
<span class="k">end</span>

<span class="no">Parent</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">shared_method</span>   <span class="c1"># =&gt; &quot;I am shared&quot;</span>
<span class="no">Child</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">shared_method</span>    <span class="c1"># =&gt; &quot;I am shared&quot;</span></code></pre></div>

<p>As you can see, the behavior from Parent is endowed to Child. Think of it almost as if everything between class Parent and end is copied and pasted to the Child class.</p>

<p>Let’s say you wanted to inherit some more functionality. You could do so but only through a longer line of inheritance:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">Parent</span>

  <span class="k">def</span> <span class="nf">shared_method</span>
    <span class="s2">&quot;I am shared&quot;</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Child</span> <span class="o">&lt;</span> <span class="no">Parent</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">GrandChild</span> <span class="o">&lt;</span> <span class="no">Child</span>
<span class="k">end</span>

<span class="no">Parent</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">shared_method</span>        <span class="c1"># =&gt; &quot;I am shared&quot;</span>
<span class="no">Child</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">shared_method</span>         <span class="c1"># =&gt; &quot;I am shared&quot;</span>
<span class="no">Grandchild</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">shared_method</span>    <span class="c1"># =&gt; &quot;I am shared&quot;</span></code></pre></div>

<p>In example this seems like a perfectly clear cut and obvious design choice but in reality the messy gray will come when you know to objects will have shared behavior but perhaps not perfectly shared behavior. Almost always, you should only use inheritance if the two objects in question have a hierarchical relationship, that is one object is a more specialized version of another object. One scenario I’ve run into where inheritance makes sense more is when you are having to deal with lots of increasingly specialized categories. Say, for example you had a massive online store with lots of categories of products:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">Product</span>

  <span class="k">def</span> <span class="nf">purchase</span>
    <span class="c1"># purchase logic</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">DigitalMovie</span> <span class="o">&lt;</span> <span class="no">Produce</span>

  <span class="k">def</span> <span class="nf">purchase</span>
    <span class="k">super</span>
    <span class="n">download</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">download</span>
    <span class="c1"># download logic</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<p>Here it is clear that a DigitalMovie is a type of product and thus embodies that hierarchical relationship. Now if this were a real life application that you were starting from scratch you first instinct should be to stick with just the Product class and perhaps have a category attribute with DigitialMovie being a category. Keeping your design as simple as possible is your first priority and if the required behavior for every type of product is nearly identical, then this would make sense.</p>

<p>The super you see here is a technique to call the purchase method on the Product class. This allows you to easily include the generic purchase behavior and add the more specialized download behavior, both as part of purchase.</p>

<p>The problem of increasingly divergent behavior will take you to a design crossroads however. In this example, a DigitalMovie requires very unique download behavior once it is purchased (vs say a table which cannot be downloaded). Trying to cram this specialized behavior into Product will begin to bloat that class and put increasing pressure on the type field you might have originally included. With the design choice to have a generic product class with specialized subclasses, you now have a clear and clean path forward when asked to implement more complex and specialized behavior.</p>

<p>A final word of caution however: inheritance can snowball quickly and lead big problems down the road if the two objects in question do not cleanly fit into that hierarchical relationship mentioned earlier. A good rule of thumb to help you navigate this uncertainty is to ask whether two objects are merely <em>doing</em> the same thing are if they actually <em>are</em> the same thing. If they are merely doing the same thing then you should consider the use of another object to thing or perhaps a module to hold that behavior. And if you decide they actually are the same thing, then consider inheritance.</p>



  <ul class="share-buttons" style="list-style-type:none;display:inline;">
  <li><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fsimpleobjects.io%2F&t=" title="Share on Facebook" target="_blank" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(document.URL) + '&t=' + encodeURIComponent(document.URL)); return false;"><img src="http://simpleobjects.io/public/images/simple_icons_black/Facebook.png"></a></li>
  <li><a href="https://twitter.com/intent/tweet?source=http%3A%2F%2Fsimpleobjects.io%2F&text=:%20http%3A%2F%2Fsimpleobjects.io%2F" target="_blank" title="Tweet" onclick="window.open('https://twitter.com/intent/tweet?text=' + encodeURIComponent(document.title) + ':%20'  + encodeURIComponent(document.URL)); return false;"><img src="http://simpleobjects.io/public/images/simple_icons_black/Twitter.png"></a></li>
  <li><a href="https://plus.google.com/share?url=http%3A%2F%2Fsimpleobjects.io%2F" target="_blank" title="Share on Google+" onclick="window.open('https://plus.google.com/share?url=' + encodeURIComponent(document.URL)); return false;"><img src="http://simpleobjects.io/public/images/simple_icons_black/Google+.png"></a></li>
  <li><a href="http://www.tumblr.com/share?v=3&u=http%3A%2F%2Fsimpleobjects.io%2F&t=&s=" target="_blank" title="Post to Tumblr" onclick="window.open('http://www.tumblr.com/share?v=3&u=' + encodeURIComponent(document.URL) + '&t=' +  encodeURIComponent(document.title)); return false;"><img src="http://simpleobjects.io/public/images/simple_icons_black/Tumblr.png"></a></li>
  <li><a href="https://getpocket.com/save?url=http%3A%2F%2Fsimpleobjects.io%2F&title=" target="_blank" title="Add to Pocket" onclick="window.open('https://getpocket.com/save?url=' + encodeURIComponent(document.URL) + '&title=' +  encodeURIComponent(document.title)); return false;"><img src="http://simpleobjects.io/public/images/simple_icons_black/Pocket.png"></a></li>
  <li><a href="http://www.reddit.com/submit?url=http%3A%2F%2Fsimpleobjects.io%2F&title=" target="_blank" title="Submit to Reddit" onclick="window.open('http://www.reddit.com/submit?url=' + encodeURIComponent(document.URL) + '&title=' +  encodeURIComponent(document.title)); return false;"><img src="http://simpleobjects.io/public/images/simple_icons_black/Reddit.png"></a></li>
  <li><a href="http://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Fsimpleobjects.io%2F&title=&summary=&source=http%3A%2F%2Fsimpleobjects.io%2F" target="_blank" title="Share on LinkedIn" onclick="window.open('http://www.linkedin.com/shareArticle?mini=true&url=' + encodeURIComponent(document.URL) + '&title=' +  encodeURIComponent(document.title)); return false;"><img src="http://simpleobjects.io/public/images/simple_icons_black/LinkedIn.png"></a></li>
  <li><a href="mailto:?subject=&body=:%20http%3A%2F%2Fsimpleobjects.io%2F" target="_blank" title="Email" onclick="window.open('mailto:?subject=' + encodeURIComponent(document.title) + '&body=' +  encodeURIComponent(document.URL)); return false;"><img src="http://simpleobjects.io/public/images/simple_icons_black/Email.png"></a></li>
</ul>

</article>

<aside class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="http://vpfaulkner.github.io//2015/09/30/io-in-ruby/">
            IO in Ruby
            <small><time datetime="2015-09-30T00:00:00-04:00">30 Sep 2015</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="http://vpfaulkner.github.io//2015/09/21/developer-to-engineer/">
            Developer to Engineer
            <small><time datetime="2015-09-21T00:00:00-04:00">21 Sep 2015</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="http://vpfaulkner.github.io//2015/09/14/keyword-arguments-in-ruby/">
            Keyword Arguments in Ruby
            <small><time datetime="2015-09-14T00:00:00-04:00">14 Sep 2015</time></small>
          </a>
        </h3>
      </li>
    
  </ul>
</aside>

        

      </main>

      <footer class="footer">
        <small>
          &copy; <time datetime="2015-09-30T08:28:41-04:00">2015</time>. All rights reserved.
        </small>
      </footer>
    </div>

  </body>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60674340-1', 'auto');
    ga('send', 'pageview');

</script>

</html>
