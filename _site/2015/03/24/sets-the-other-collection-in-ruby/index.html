<!DOCTYPE html>
<html lang="en">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
  
  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Sets, The Other Collection in Ruby &middot; SimpleObjects
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="http://vpfaulkner.github.io/public/css/poole.css">
  <link rel="stylesheet" href="http://vpfaulkner.github.io/public/css/syntax.css">
  <link href='http://fonts.googleapis.com/css?family=Lora' rel='stylesheet'
  type='text/css'>

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://vpfaulkner.github.io/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="http://vpfaulkner.github.io/public/favicon.ico">
  <link rel="stylesheet" href="/public/font-awesome-4.3.0/css/font-awesome.min.css">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="SimpleObjects" href="http://vpfaulkner.github.io/atom.xml">
</head>


  <body>


    <div class="container content">
      <header class="masthead">
        <h3 class="masthead-title">
          <a href="http://vpfaulkner.github.io/" title="Home">SimpleObjects</a>

          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/about_me">About Me</a></small>
          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/playbook">Playbook</a></small>
          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/archive">Archive</a></small>
          

        </h3>
      </header>

      <main>
        <article class="post">
  <h1 class="post-title">Sets, The Other Collection in Ruby</h1>
  <time datetime="2015-03-24T00:00:00-04:00" class="page-date">24 Mar 2015</time>
  <p>Even if you’ve been using Ruby for a decent amount of time there is a good chance that you haven’t really played with Sets. We have embraced Arrays and Hashes so much that, when a use-case for Sets comes up, we often forget they are even an option and go straight to one of those two.</p>

<p>Sets in Ruby are based on the concept of a <a href="http://en.wikipedia.org/wiki/Set_(mathematics)">set in math</a> and are appropriate when you want to store a list of items, similar to that of an array, but only want to store unique items, similar to keys in a hash.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="nb">require</span> <span class="s1">&#39;set&#39;</span>

<span class="n">set1</span> <span class="o">=</span> <span class="no">Set</span><span class="o">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="o">]</span>
<span class="c1">#=&gt; #&lt;Set: {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;}&gt;</span>
<span class="n">set1</span> <span class="o">&lt;&lt;</span> <span class="s1">&#39;d&#39;</span>
<span class="c1">#=&gt; #&lt;Set: {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;}&gt;</span>
<span class="n">set1</span> <span class="o">&lt;&lt;</span> <span class="s1">&#39;a&#39;</span>
<span class="c1">#=&gt; #&lt;Set: {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;}&gt;</span></code></pre></div>

<p>As you can see, adding an item feels just like an Array but a Set will not create duplicate items.</p>

<p>Sets also work well together allowing you to find the union, intersection, and more–just like you would in math class.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">set2</span> <span class="o">=</span> <span class="no">Set</span><span class="o">[</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="o">]</span>
<span class="c1">#=&gt; #&lt;Set: {&quot;y&quot;, &quot;z&quot;, &quot;a&quot;}&gt;</span>
<span class="n">set1</span> <span class="o">||</span> <span class="n">set2</span>
<span class="c1">#=&gt; #&lt;Set: {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;}&gt;</span>
<span class="n">set1</span> <span class="o">&amp;</span> <span class="n">set2</span>
<span class="c1">#=&gt; #&lt;Set: {&quot;a&quot;}&gt;</span>
<span class="n">set1</span> <span class="o">-</span> <span class="n">set2</span>
<span class="c1">#=&gt; #&lt;Set: {&quot;b&quot;, &quot;c&quot;, &quot;d&quot;}&gt;</span></code></pre></div>

<p>So when would you use a set? I would recommend considering sets when 1) you don’t want duplicates, 2) order doesn’t matter, and 3) you might want to compare two lists for equality (of items included–not order of items), intersections, etc.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="nb">require</span> <span class="s1">&#39;set&#39;</span>

<span class="n">participating_organizations</span> <span class="o">=</span> <span class="no">Set</span><span class="o">.</span><span class="n">new</span>
<span class="n">employees</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">employee</span><span class="o">|</span>
  <span class="k">if</span> <span class="n">employee</span><span class="o">.</span><span class="n">participating</span>
    <span class="n">participating_organizations</span> <span class="o">&lt;&lt;</span> <span class="n">employee</span><span class="o">.</span><span class="n">organization</span><span class="o">.</span><span class="n">id</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<p>Here we consider an organization as participating if at least one employee is participating but don’t want to create duplicate organizations. Moreover, if we were to decide to have multiple events that an organization could participate in, we could do so easily with just another Set and compare the two easily.</p>

<p>As you can see, Sets have several handy use-cases in Ruby but often get overlooked for an Array or Hash. Next time you find yourself in one of these use-cases, ask yourself if a Set would be a better fit.</p>

</article>

<aside class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="http://vpfaulkner.github.io//2015/05/01/benchmarking-in-ruby/">
            Benchmarking in Ruby
            <small><time datetime="2015-05-01T00:00:00-04:00">01 May 2015</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="http://vpfaulkner.github.io//2015/04/20/the-law-of-demeter/">
            The Law of Demeter
            <small><time datetime="2015-04-20T00:00:00-04:00">20 Apr 2015</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="http://vpfaulkner.github.io//2015/04/17/what-is-the-enumerable-module/">
            What is the Enumerable Module in Ruby?
            <small><time datetime="2015-04-17T00:00:00-04:00">17 Apr 2015</time></small>
          </a>
        </h3>
      </li>
    
  </ul>
</aside>

        

      </main>

      <footer class="footer">
        <small>
          &copy; <time datetime="2015-05-01T08:38:04-04:00">2015</time>. All rights reserved.
        </small>
      </footer>
    </div>

  </body>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60674340-1', 'auto');
    ga('send', 'pageview');

</script>

</html>
