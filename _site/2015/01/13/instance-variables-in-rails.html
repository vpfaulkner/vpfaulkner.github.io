<p>Transitioning to Rails from plain ole Ruby can be disorienting. Not only is
there a whole new structure for you to learn, existing syntax starts to take on
new meaning.</p>

<p>One of the more fundamental shifts is the role of instance variables in Rails.
As you remember from Ruby, instance variables begin with @ and are scoped to the
instance of the class in which they reside.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">Game</span>

  <span class="k">def</span> <span class="nf">initialize</span>
    <span class="vi">@score</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">end</span>

<span class="k">end</span></code></pre></figure>

<p>In Rails, this is still true but the underlying structure that is providing in
essence cheats this distinction. As you have or (will) learn, Rails is an MVC
framework meaning that the three core components of a Rails application is a
model, view and controller. For every incoming http request you can think of the
controller as acting as the central hub in which all of the necessary ingridients
for the response are put together. These ingridients are then passed on to the
view (assuming there is one) to be presented to the user.</p>

<p>Rails preforms this magic by passing on the instance variables from the
controller and passing them to the controller. This is what allows a Rails app,
for instance, to insert logic and state into the view portion of an app without
actually preforming that logic in the view.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">GamesController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">index</span>
    <span class="vi">@games</span> <span class="o">=</span> <span class="no">Game</span><span class="p">.</span><span class="nf">all</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure>

<p>app/views/games/index.html</p>

<figure class="highlight"><pre><code class="language-erb" data-lang="erb"><span class="nt">&lt;h1&gt;</span>All Games<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;table&gt;</span>
  <span class="nt">&lt;tr&gt;</span>
    <span class="nt">&lt;th&gt;</span>Game<span class="nt">&lt;/th&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
  <span class="cp">&lt;%</span> <span class="vi">@games</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">game</span><span class="o">|</span> <span class="cp">%&gt;</span>
      <span class="nt">&lt;td&gt;</span><span class="cp">&lt;%=</span> <span class="n">game</span><span class="p">.</span><span class="nf">now</span> <span class="cp">%&gt;</span><span class="nt">&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
  <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/table&gt;</span></code></pre></figure>

<p>The last piece of the puzzle is that these instance variables live and die
in a single http request. Think of each time the user navigates to a new page as
an encapsulated new state for your application. This state ends once the
request is done, including the state of these instance variables. Now of course
there have been techniques to emulate state on web apps of course such as
storing session variables etc; however, by thinking of these requests as
isolated states of your app then the role that instance variables play in Rails
will begin to make sense.
thinking in these</p>
