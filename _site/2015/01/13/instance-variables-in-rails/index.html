<!DOCTYPE html>
<html lang="en">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
  
  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Instance Variables in Rails &middot; Wrong Abstraction
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="http://vpfaulkner.github.io/public/css/poole.css">
  <link rel="stylesheet" href="http://vpfaulkner.github.io/public/css/syntax.css">
  <link href='http://fonts.googleapis.com/css?family=Lora' rel='stylesheet'
  type='text/css'>

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://vpfaulkner.github.io/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="http://vpfaulkner.github.io/public/favicon.ico">
  <link rel="stylesheet" href="/public/font-awesome-4.3.0/css/font-awesome.min.css">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="Wrong Abstraction" href="http://vpfaulkner.github.io/atom.xml">
</head>


  <body>


    <div class="container content">
      <header class="masthead">
        <h3 class="masthead-title">
          <a href="http://vpfaulkner.github.io/" title="Home"><i class="fa
          fa-paper-plane"></i><span style="margin-left: .75rem">Wrong Abstraction</span></a>

          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/about_me">About Me</a></small>
          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/playbook">Playbook</a></small>
          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/archive">Archive</a></small>
          

        </h3>
      </header>

      <main>
        <article class="post">
  <h1 class="post-title">Instance Variables in Rails</h1>
  <time datetime="2015-01-13T00:00:00-05:00" class="page-date">13 Jan 2015</time>
  <p>Transitioning to Rails from plain ole Ruby can be disorienting. Not only is
there a whole new structure for you to learn, existing syntax starts to take on
new meaning.</p>

<p>One of the more fundamental shifts is the role of instance variables in Rails.
As you remember from Ruby, instance variables begin with @ and are scoped to the
instance of the class in which they reside. </p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">Game</span>

  <span class="k">def</span> <span class="nf">initialize</span>
    <span class="vi">@score</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">end</span>

<span class="k">end</span></code></pre></div>

<p>In Rails, this is still true but the underlying structure that is providing in
essence cheats this distinction. As you have or (will) learn, Rails is an MVC
framework meaning that the three core components of a Rails application is a
model, view and controller. For every incoming http request you can think of the
controller as acting as the central hub in which all of the necessary ingridients
for the response are put together. These ingridients are then passed on to the
view (assuming there is one) to be presented to the user.</p>

<p>Rails preforms this magic by passing on the instance variables from the
controller and passing them to the controller. This is what allows a Rails app,
for instance, to insert logic and state into the view portion of an app without
actually preforming that logic in the view. </p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">GamesController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">index</span>
    <span class="vi">@games</span> <span class="o">=</span> <span class="no">Game</span><span class="o">.</span><span class="n">all</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<p>app/views/games/index.html</p>

<div class="highlight"><pre><code class="language-erb" data-lang="erb"><span class="x">&lt;h1&gt;All Games&lt;/h1&gt;</span>
<span class="x">&lt;table&gt;</span>
<span class="x">  &lt;tr&gt;</span>
<span class="x">    &lt;th&gt;Game&lt;/th&gt;</span>
<span class="x">  &lt;/tr&gt;</span>
<span class="x">  </span><span class="cp">&lt;%</span> <span class="vi">@games</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">game</span><span class="o">|</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">      &lt;td&gt;</span><span class="cp">&lt;%=</span> <span class="n">game</span><span class="o">.</span><span class="n">now</span> <span class="cp">%&gt;</span><span class="x">&lt;/td&gt;</span>
<span class="x">  &lt;/tr&gt;</span>
<span class="x">  </span><span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">&lt;/table&gt;</span></code></pre></div>

<p>The last piece of the puzzle is that these instance variables live and die
in a single http request. Think of each time the user navigates to a new page as
an encapsulated new state for your application. This state ends once the
request is done, including the state of these instance variables. Now of course
there have been techniques to emulate state on web apps of course such as
storing session variables etc; however, by thinking of these requests as
isolated states of your app then the role that instance variables play in Rails
will begin to make sense.
thinking in these </p>

</article>

<aside class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="http://vpfaulkner.github.io//2015/03/10/my-big-list-of-full-stack-developer-technologies/">
            My Big List of Full Stack Developer Technologies
            <small><time datetime="2015-03-10T00:00:00-04:00">10 Mar 2015</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="http://vpfaulkner.github.io//2015/03/06/beware-of-class-methods-in-ruby/">
            Beware of Class Methods in Ruby
            <small><time datetime="2015-03-06T00:00:00-05:00">06 Mar 2015</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="http://vpfaulkner.github.io//2015/03/03/ruby-errors/">
            Ruby Errors
            <small><time datetime="2015-03-03T00:00:00-05:00">03 Mar 2015</time></small>
          </a>
        </h3>
      </li>
    
  </ul>
</aside>

        
  <!-- Add Disqus comments. -->
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'vancefaulkner'; // required: replace example with your forum shortname
    var disqus_identifier = "/2015/01/13/instance-variables-in-rails/";

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


      </main>

      <footer class="footer">
        <small>
          &copy; <time datetime="2015-03-12T07:39:03-04:00">2015</time>. All rights reserved.
        </small>
      </footer>
    </div>

  </body>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60674340-1', 'auto');
    ga('send', 'pageview');

</script>

</html>
