<!DOCTYPE html>
<html lang="en">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
  
  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Wrong Abstraction &middot; Ruby Developer
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="http://vpfaulkner.github.io/public/css/poole.css">
  <link rel="stylesheet" href="http://vpfaulkner.github.io/public/css/syntax.css">
  <link href='http://fonts.googleapis.com/css?family=Lora' rel='stylesheet'
  type='text/css'>

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://vpfaulkner.github.io/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="http://vpfaulkner.github.io/public/favicon.ico">
  <link rel="stylesheet" href="/public/font-awesome-4.3.0/css/font-awesome.min.css">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="Wrong Abstraction" href="http://vpfaulkner.github.io/atom.xml">
</head>


  <body>


    <div class="container content">
      <header class="masthead">
        <h3 class="masthead-title">
          <a href="http://vpfaulkner.github.io/" title="Home"><i class="fa
          fa-paper-plane"></i><span style="margin-left: .75rem">Wrong Abstraction</span></a>

          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/about_me">About Me</a></small>
          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/playbook">Playbook</a></small>
          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/archive">Archive</a></small>
          

        </h3>
      </header>

      <main>
        <div class="posts">
  
  <article class="post">
    <h1 class="post-title">
      <a href="/2015/01/21/private-methods-in-ruby/">
        Private Methods in Ruby
      </a>
    </h1>

    <time datetime="2015-01-21T00:00:00-05:00" class="post-date">21 Jan 2015</time>

    <p>“Why does anyone use private methods?”, you might ask as a beginner to Ruby. In
some ways the question makes sense: you are only hiding this method from
yourself or someone else whom you trust enough already to be working along the
project with you. So what gives?</p>

<p>Let’s start with an example:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">Concert</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">band</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">number_of_attendees</span><span class="p">)</span>
    <span class="vi">@band</span> <span class="o">=</span> <span class="n">band</span>
    <span class="vi">@time</span> <span class="o">=</span> <span class="n">time</span>
    <span class="vi">@number_of_attendees</span> <span class="o">=</span> <span class="n">number_of_attendees</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">prepare</span>
    <span class="n">open_venue</span>
    <span class="c1"># other preperations</span>
  <span class="k">end</span>

  <span class="kp">private</span> <span class="c1"># Every method below this is private</span>

  <span class="k">def</span> <span class="nf">open_venue</span>
    <span class="c1"># open venue logic</span>
  <span class="k">end</span>

<span class="k">end</span>

<span class="n">concert</span> <span class="o">=</span> <span class="no">Concert</span><span class="o">.</span><span class="n">new</span>
<span class="n">concert</span><span class="o">.</span><span class="n">prepare</span>
<span class="n">concert</span><span class="o">.</span><span class="n">open_venue</span> <span class="c1">#NoMethodError: private method &#39;open_venue&#39;</span></code></pre></div>

<p>Here you can see that we are able to see that open_venue is defined under
private in the class, that open_venue can be called within the class, but it cannot
be called outside of the class. This is because in Ruby private methods cannot have an explicit receiver. When we call concert.open_venue our explicit receiver is concert, but when it is called in the prepare method it is called implicitly within the calling object.</p>

<p>Knowing how it works, however, doesn’t get back to the original question of “Why
ever use it?”</p>

<p>I advocate private methods as a means of clearly defining the public interface
for a class. Public interfaces are a very important concept and allow you the
signal to other developers that some of these things are publicly available to you and
will remain relatively stable while other things are not and may be subject to
change. This is particularly relevant in Rails controllers where I suggest
keeping only the methods associated with controller actions public while making 
any others private. This <a href="/2014/01/22/make-your-ruby-objects-single-minded/">separation of concerns</a> frees you up to continually rework the
“how” methods that contain must of the logic without fear of breaking external
code and gives developers working with your class from the outside an ease of mind that they are working with a reliable public interface.</p>

  </article>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="http://vpfaulkner.github.io/page20">Older</a>
  
  
    
      <a class="pagination-item newer" href="http://vpfaulkner.github.io/page18">Newer</a>
    
  
</div>

        

      </main>

      <footer class="footer">
        <small>
          &copy; <time datetime="2015-03-24T08:31:08-04:00">2015</time>. All rights reserved.
        </small>
      </footer>
    </div>

  </body>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60674340-1', 'auto');
    ga('send', 'pageview');

</script>

</html>
