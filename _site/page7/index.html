<!DOCTYPE html>
<html lang="en">

    <div class="sidebar" id="sidebar">
  <div class="about_me">
    <h3>Recent Posts</h3>
      
        <a href=" /2015/01/26/control-flow-in-ruby/ "> Control Flow in Ruby Pt. I </a><br>
      
        <a href=" /2014/01/22/make-your-ruby-objects-single-minded/ "> Make your Ruby Objects Single-Minded </a><br>
      
        <a href=" /2014/01/21/private-methods-in-ruby/ "> Private Methods in Ruby </a><br>
      
        <a href=" /2014/01/20/how-big-should-methods-be/ "> How Big Should Methods Be? </a><br>
      
        <a href=" /2014/01/17/debugging-ruby-with-pry/ "> Debugging Ruby with Pry </a><br>
      

    <br>
    <br>
    <br>
    <p><span style="font-weight: bolder">Vance Faulkner</span> is a Ruby on
    Rails developer from Durham, NC</p>
    <a href="https://github.com/vpfaulkner"><i class="fa fa-github"></i></a>
    <a href="https://www.linkedin.com/in/vancefaulkner"><i class="fa fa-linkedin-square"></i></a>
    <a href="mailto:vpfaulkner@gmail.com"><i class="fa fa-envelope-o"></i></a>
  </div>
</div>

  <head>
  <meta charset="UTF-8">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Wrong Abstraction &middot; Ruby Developer
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link href='http://fonts.googleapis.com/css?family=Lora' rel='stylesheet'
  type='text/css'>

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link rel="stylesheet" href="public/font-awesome-4.3.0/css/font-awesome.min.css">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="Wrong Abstraction" href="/atom.xml">
</head>


  <body>


    <div class="container content">
      <header class="masthead">
        <h3 class="masthead-title">
          <a href="/" title="Home"><i class="fa
          fa-paper-plane"></i><span style="margin-left: .75rem">Wrong Abstraction</span></a>

          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/about_me">About Me</a></small>
          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/playbook">Playbook</a></small>
          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/archive">Archive</a></small>
          

        </h3>
      </header>

      <main>
        <div class="posts">
  
  <article class="post">
    <h1 class="post-title">
      <a href="/2014/01/13/instance-variables-in-rails/">
        Instance Variables in Rails
      </a>
    </h1>

    <time datetime="2014-01-13T00:00:00-05:00" class="post-date">13 Jan 2014</time>

    <p>Transitioning to Rails from plain ole Ruby can be disorienting. Not only is
there a whole new structure for you to learn, existing syntax starts to take on
new meaning.</p>

<p>One of the more fundamental shifts is the role of instance variables in Rails.
As you remember from Ruby, instance variables begin with @ and are scoped to the
instance of the class in which they reside. </p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">Game</span>

  <span class="k">def</span> <span class="nf">initialize</span>
    <span class="vi">@score</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">end</span>

<span class="k">end</span></code></pre></div>

<p>In Rails, this is still true but the underlying structure that is providing in
essence cheats this distinction. As you have or (will) learn, Rails is an MVC
framework meaning that the three core components of a Rails application is a
model, view and controller. For every incoming http request you can think of the
controller as acting as the central hub in which all of the necessary ingridients
for the response are put together. These ingridients are then passed on to the
view (assuming there is one) to be presented to the user.</p>

<p>Rails preforms this magic by passing on the instance variables from the
controller and passing them to the controller. This is what allows a Rails app,
for instance, to insert logic and state into the view portion of an app without
actually preforming that logic in the view. </p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">GamesController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">index</span>
    <span class="vi">@games</span> <span class="o">=</span> <span class="no">Game</span><span class="o">.</span><span class="n">all</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<p>app/views/games/index.html</p>

<div class="highlight"><pre><code class="language-erb" data-lang="erb"><span class="x">&lt;h1&gt;All Games&lt;/h1&gt;</span>
<span class="x">&lt;table&gt;</span>
<span class="x">  &lt;tr&gt;</span>
<span class="x">    &lt;th&gt;Game&lt;/th&gt;</span>
<span class="x">  &lt;/tr&gt;</span>
<span class="x">  </span><span class="cp">&lt;%</span> <span class="vi">@games</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">game</span><span class="o">|</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">      &lt;td&gt;</span><span class="cp">&lt;%=</span> <span class="n">game</span><span class="o">.</span><span class="n">now</span> <span class="cp">%&gt;</span><span class="x">&lt;/td&gt;</span>
<span class="x">  &lt;/tr&gt;</span>
<span class="x">  </span><span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">&lt;/table&gt;</span></code></pre></div>

<p>The last piece of the puzzle is that these instance variables live and die
in a single http request. Think of each time the user navigates to a new page as
an encapsulated new state for your application. This state ends once the
request is done, including the state of these instance variables. Now of course
there have been techniques to emulate state on web apps of course such as
storing session variables etc; however, by thinking of these requests as
isolated states of your app then the role that instance variables play in Rails
will begin to make sense.
thinking in these </p>

  </article>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page8">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page6">Newer</a>
    
  
</div>

        

      </main>

      <footer class="footer">
        <small>
          &copy; <time datetime="2015-01-26T07:41:50-05:00">2015</time>. All rights reserved.
        </small>
      </footer>
    </div>

  </body>
</html>
