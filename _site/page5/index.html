<!DOCTYPE html>
<html lang="en">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
  
  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Wrong Abstraction &middot; Ruby Developer
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="http://vpfaulkner.github.io/public/css/poole.css">
  <link rel="stylesheet" href="http://vpfaulkner.github.io/public/css/syntax.css">
  <link href='http://fonts.googleapis.com/css?family=Lora' rel='stylesheet'
  type='text/css'>

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://vpfaulkner.github.io/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="http://vpfaulkner.github.io/public/favicon.ico">
  <link rel="stylesheet" href="/public/font-awesome-4.3.0/css/font-awesome.min.css">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="Wrong Abstraction" href="http://vpfaulkner.github.io/atom.xml">
</head>


  <body>


    <div class="container content">
      <header class="masthead">
        <h3 class="masthead-title">
          <a href="http://vpfaulkner.github.io/" title="Home"><i class="fa
          fa-paper-plane"></i><span style="margin-left: .75rem">Wrong Abstraction</span></a>

          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/about_me">About Me</a></small>
          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/playbook">Playbook</a></small>
          
             &nbsp;&nbsp;&nbsp;
             <small><a href="/archive">Archive</a></small>
          

        </h3>
      </header>

      <main>
        <div class="posts">
  
  <article class="post">
    <h1 class="post-title">
      <a href="/2015/02/17/when-to-use-guard-statements/">
        When to use Guard Statements
      </a>
    </h1>

    <time datetime="2015-02-17T00:00:00-05:00" class="post-date">17 Feb 2015</time>

    <p>What are guard statements and when should I use them? If you are starting out on Ruby you might run into a line like the one below and be a little confused:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">return</span> <span class="k">unless</span> <span class="n">user</span></code></pre></div>

<p>It reads well enough to get an sense of what is going on but you might be more comfortable with a nested if else statement:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">if</span> <span class="n">user</span>
  <span class="c1"># ...</span>
<span class="k">else</span>
  <span class="k">return</span> <span class="kp">nil</span>
<span class="k">end</span></code></pre></div>

<p>While they do the same thing, the guard statement is 1) it avoids a level of indentation 2) it is more readable 3) it is more concise. It takes advantage of the trailing conditional if as well as the implicit return nil (same as return unless).</p>

<p>There are a few liabilities with the techniques however. The first is that you may be suppressing and thus perpetuating a critical bug in your code by not allowing a NoMethodError to be raised. An alternative is in fact to raise an exception of your own? Secondly, you are forcing whatever object called this method to <a href="http://www.sandimetz.com/blog/2014/12/19/suspicions-of-nil">respond to two different</a> types of object.</p>

<p>Overall, I prefer using guard statements when I need to prevent accepting invalid data and only if I have determined the exact circumstance of the bug. If you are having a mysterious bug pop up for some unknown reason, spend your time investigating and remedying that bug rather than smothering it with a line like this.</p>

  </article>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="http://vpfaulkner.github.io/page6">Older</a>
  
  
    
      <a class="pagination-item newer" href="http://vpfaulkner.github.io/page4">Newer</a>
    
  
</div>

        

      </main>

      <footer class="footer">
        <small>
          &copy; <time datetime="2015-03-10T08:11:02-04:00">2015</time>. All rights reserved.
        </small>
      </footer>
    </div>

  </body>
</html>
